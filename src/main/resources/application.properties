# ==============================================================================
# MASTER Database (The Control Plane / Registry - ALWAYS MySQL)
# ==============================================================================
spring.datasource.url=jdbc:mysql://localhost:3306/master_control_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=mysql
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================================================
# Hibernate & JPA: Dynamic Switching Logic
# ==============================================================================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# CRITICAL: This allows one app to talk to both MySQL and Postgres tenants
spring.jpa.properties.hibernate.dialect_resolver=org.hibernate.engine.jdbc.dialect.internal.StandardDialectResolver

# ==============================================================================
# Liquibase: Manual Control for Tenant Provisioning
# ==============================================================================
spring.liquibase.enabled=false

# ==============================================================================
# Master DB Connection Pool (HikariCP)
# ==============================================================================
spring.datasource.hikari.pool-name=MasterDB-Pool
spring.datasource.hikari.maximum-pool-size=10

# ==============================================================================
# Server & Logging
# ==============================================================================
server.port=8080
logging.level.com.school.multi_tenant_workflow=DEBUG
logging.level.org.hibernate.SQL=DEBUG